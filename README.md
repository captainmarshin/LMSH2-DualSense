<img src="previews/mod_icon.webp" title="Mod Logo" width="100px" height="100px">

# LMSH2-DualSense

This mod for **LEGO Marvel Superheroes 2** replaces Xbox control glyphs with PlayStation DualSense controls.

<img src="previews/xbox-colors-4.webp" title="Screenshot from game - Controls page" width="260px"> <img src="previews/xbox-colors-3.webp" title="Screenshot from game - Controls page" width="260px"> <img src="previews/controls menu.webp" title="Screenshot from game - Controls page" width="260px">

## About

> ‚ö†Ô∏è **Tested on macOS only!** The file structure appears similar to Windows, but I haven‚Äôt tested it. If it works on Windows, please update the README or create an issue. Thank you!

> ‚ö†Ô∏è On macOS, the controller image is used from the publisher folder **(LEGOMarvelSuperHeroes2Data/feral/)**. If you will try mod on Windows, maybe you will need another file, so take it from `windows` folder

Mod includes different color variants. **PlayStation control glyphs are sourced from Steam**. 

Since the game does not natively support DualSense, I run it using Steam Input, which uses Xbox 360 glyphs by default.

## Installation

<details open>
  <summary><h3>Game files unpacked:</h3></summary>

If you already unpack game and have access to game files. (You can see folders and files in the game directory)

1. Choose your preferred control version and download mod archive (controls-name.zip) from the [release page](https://github.com/captainmarshin/LMSH2-DualSense/releases/)
2. Follow the folder structure in the downloaded archive and replace the corresponding files in your game folder

</details>

<details>
  <summary><h3>Game files packed:</h3></summary>

If you don‚Äôt have unpacked files (If you only see __disc_ and .dat files in the game folder)

> ‚ö†Ô∏è **It's good idea to backup original game files!**

1. Download game (I use Steam version, don‚Äôt know if it works on other versions)
2. If you have DLC, download them too
3. Download [QuickBMS](http://aluigi.altervista.org/papers/quickbms.zip)
5. Download [ttgames.bms](http://aluigi.altervista.org/bms/ttgames.bms) script for QuickBMS
6. Extract QuickBMS in folder, run `quickbms.exe` as Administrator
7. Select ttgames.bms file
8. Select all `.dat` files in game folder (including `dlc .dat` files)
9. Select folder where place unpacked files (new folder on Desktop is good)
10. After unpack complete - remove `__disc__` and all `.dat` files from original game folder
11. Move unpacked files to original game folder
12. Choose your preferred control version and download mod archive (controls-name.zip) from the [release page](https://github.com/captainmarshin/LMSH2-DualSense/releases/)
13. Follow the folder structure in the downloaded archive and replace the corresponding files in your game folder

>üí° Note: Unpacking can be a long process and the unpacked game will be significantly larger (e.g., my game went from 25GB to 32GB after unpacking).

P.S. For Windows process is same (I unpacked files on Windows), but according to [this page](https://www.pcgamingwiki.com/wiki/Engine:Nu2#Patching_executables_to_run_extracted) , you may need to patch the game‚Äôs .exe file. On macOS, no patching is needed, simply unpack and place unpacked files.

If you have any trouble, follow this video: [https://www.youtube.com/watch?v=_EQ3hPrh0V8](https://www.youtube.com/watch?v=_EQ3hPrh0V8)

</details>

## Controls version

You can choose from various color schemes for the controls!

At first, I want to create just a white DualSense control set, but after testing, I decided to offer some variants.

### PlayStation Glyphs
<img src="previews/playstation-glyphs.webp" title="PlayStation Glyphs" width="240px">

Original game controls with PlayStation color glyphs

<img src="previews/playstation-glyphs-1.webp" title="PlayStation Glyphs Screenshot 1" width="240px"> <img src="previews/playstation-glyphs-2.webp" title="PlayStation Glyphs Screenshot 2" width="240px" > <img src="previews/playstation-glyphs-3.webp" title="PlayStation Glyphs Screenshot 3" width="240px" > <img src="previews/playstation-glyphs-4.webp" title="PlayStation Glyphs Screenshot 4" width="240px" > <img src="previews/playstation-glyphs-5.webp" title="PlayStation Glyphs Screenshot 5" width="240px" >

### PlayStation Glyphs 2
<img src="previews/playstation-glyphs2.webp" title="PlayStation Glyphs 2" width="240px">

Original game controls with PlayStation color glyphs

<img src="previews/playstation-glyphs2-1.webp" title="PlayStation Glyphs 2 Screenshot 1" width="240px"> <img src="previews/playstation-glyphs2-2.webp" title="PlayStation Glyphs 2 Screenshot 2" width="240px" > <img src="previews/playstation-glyphs2-3.webp" title="PlayStation Glyphs 2 Screenshot 3" width="240px" > <img src="previews/playstation-glyphs2-4.webp" title="PlayStation Glyphs 2 Screenshot 4" width="240px" >

### Dark Buttons
<img src="previews/dark-buttons.webp" title="Dark Buttons" width="240px">

Original game black controls with white glyphs and outlines

<img src="previews/dark-buttons-1.webp" title="Dark Buttons Screenshot 1" width="240px"> <img src="previews/dark-buttons-2.webp" title="Dark Buttons Screenshot 2" width="240px" > <img src="previews/dark-buttons-3.webp" title="Dark Buttons Screenshot 3" width="240px" > <img src="previews/dark-buttons-4.webp" title="Dark Buttons Screenshot 4" width="240px" > <img src="previews/dark-buttons-5.webp" title="Dark Buttons Screenshot 5" width="240px" >

### Light Buttons
<img src="previews/light-buttons.webp" title="Light Buttons" width="240px">

White color buttons with black glyphs and strokes

<img src="previews/light-buttons-1.webp" title="Light Buttons Screenshot 1" width="240px"> <img src="previews/light-buttons-2.webp" title="Light Buttons Screenshot 2" width="240px" > <img src="previews/light-buttons-3.webp" title="Light Buttons Screenshot 3" width="240px" > <img src="previews/light-buttons-4.webp" title="Light Buttons Screenshot 4" width="240px" > <img src="previews/light-buttons-5.webp" title="Light Buttons Screenshot 5" width="240px" >

### Transparent Buttons
<img src="previews/transparent-buttons.webp" title="Transparent Buttons" width="240px">

White color buttons with transparent glyphs and semi-transparent stroke

<img src="previews/transparent-buttons-1.webp" title="Transparent Buttons Screenshot 1" width="240px"> <img src="previews/transparent-buttons-2.webp" title="Transparent Buttons Screenshot 2" width="240px" > <img src="previews/transparent-buttons-3.webp" title="Transparent Buttons Screenshot 3" width="240px" > <img src="previews/transparent-buttons-4.webp" title="Transparent Buttons Screenshot 4" width="240px" > <img src="previews/transparent-buttons-5.webp" title="Transparent Buttons Screenshot 5" width="240px" >

### Xbox Colors
<img src="previews/xbox-colors.webp" title="Xbox Colors" width="240px">

Original game buttons with PlayStation glyphs, but ‚àÜ O X ‚ñ° have colors from original game files (Xbox colors)

<img src="previews/xbox-colors-1.webp" title="Xbox Colors Screenshot 1" width="240px"> <img src="previews/xbox-colors-2.webp" title="Xbox Colors Screenshot 2" width="240px" > <img src="previews/xbox-colors-3.webp" title="Xbox Colors Screenshot 3" width="240px" > <img src="previews/xbox-colors-4.webp" title="Xbox Colors Screenshot 4" width="240px" > <img src="previews/xbox-colors-5.webp" title="Xbox Colors Screenshot 5" width="240px" >

<details>
  <summary>Bonus</summary>

### Light Buttons 2
<img src="previews/light-buttons2.webp" title="Light Buttons 2" width="240px">

White color buttons with full color Playstation buttons

<img src="previews/light-buttons2-1.webp" title="Light Buttons 2 Screenshot 1" width="240px"> <img src="previews/light-buttons2-2.webp" title="Light Buttons 2 Screenshot 2" width="240px" > <img src="previews/light-buttons2-3.webp" title="Light Buttons 2 Screenshot 3" width="240px" > <img src="previews/light-buttons2-4.webp" title="Light Buttons 2 Screenshot 4" width="240px" > <img src="previews/light-buttons2-5.webp" title="Light Buttons 2 Screenshot 5" width="240px" >

### Light Buttons 3
<img src="previews/light-buttons3.webp" title="Light Buttons 3" width="240px">

White color buttons with colorful Playstation buttons

<img src="previews/light-buttons3-1.webp" title="Light Buttons 2 Screenshot 1" width="240px"> <img src="previews/light-buttons3-2.webp" title="Light Buttons 2 Screenshot 2" width="240px" > <img src="previews/light-buttons3-3.webp" title="Light Buttons 2 Screenshot 3" width="240px" > <img src="previews/light-buttons3-4.webp" title="Light Buttons 2 Screenshot 4" width="240px" > <img src="previews/light-buttons3-5.webp" title="Light Buttons 2 Screenshot 5" width="240px" >

### Light Buttons Rainbow
<img src="previews/light-buttons-rainbow.webp" title="PlayStation Glyphs" width="240px">

White color buttons with rainbow glyphs and stroke

<img src="previews/light-buttons-rainbow-1.webp" title="Light Buttons 2 Screenshot 1" width="240px"> <img src="previews/light-buttons-rainbow-2.webp" title="Light Buttons 2 Screenshot 2" width="240px" > <img src="previews/light-buttons-rainbow-3.webp" title="Light Buttons 2 Screenshot 3" width="240px" > <img src="previews/light-buttons-rainbow-4.webp" title="Light Buttons 2 Screenshot 4" width="240px" > <img src="previews/light-buttons-rainbow-5.webp" title="Light Buttons 2 Screenshot 5" width="240px" >

### Rainbow Buttons
<img src="previews/rainbow-buttons.webp" title="Rainbow Buttons" width="240px">

All buttons under rainbow

<img src="previews/rainbow-buttons-1.webp" title="Light Buttons 2 Screenshot 1" width="240px"> <img src="previews/rainbow-buttons-2.webp" title="Light Buttons 2 Screenshot 2" width="240px" > <img src="previews/rainbow-buttons-3.webp" title="Light Buttons 2 Screenshot 3" width="240px" > <img src="previews/rainbow-buttons-4.webp" title="Light Buttons 2 Screenshot 4" width="240px" > <img src="previews/rainbow-buttons-5.webp" title="Light Buttons 2 Screenshot 5" width="240px" >

### Transparent Rainbow Buttons
<img src="previews/transparent-rainbow-buttons.webp" title="PlayStation Glyphs" width="240px">

Transparent buttons under rainbow gradient.

<img src="previews/transparent-buttons-rainbow-1.webp" title="Light Buttons 2 Screenshot 1" width="240px"> <img src="previews/transparent-buttons-rainbow-2.webp" title="Light Buttons 2 Screenshot 2" width="240px" > <img src="previews/transparent-buttons-rainbow-3.webp" title="Light Buttons 2 Screenshot 3" width="240px" > <img src="previews/transparent-buttons-rainbow-4.webp" title="Light Buttons 2 Screenshot 4" width="240px" >

</details>

## Source files

You can find original game files and PXD files in `source` folder


## Uninstall

Replace files in game folder with files from `/source/backup/`


## Paths

This is macOS paths to the game folder and mod files.

Game folder:
```bash
~/Library/Application Support/Steam/steamapps/common/LEGO Marvel Super Heroes 2
```

Game files folder:
```bash
~/Library/Application Support/Steam/steamapps/common/LEGO Marvel Super Heroes 2/LEGOMarvelSuperHeroes2Data/
```

Controller image file:
```bash
~/Library/Application Support/Steam/steamapps/common/LEGO Marvel Super Heroes 2/LEGOMarvelSuperHeroes2Data/feral/controller.png
```

This paths will be available after game files unpacking:

Control buttons file:
```bash
~/Library/Application Support/Steam/steamapps/common/LEGO Marvel Super Heroes 2/LEGOMarvelSuperHeroes2Data/FRAMEWORK-DATA/GUI/BUTTONS/PC/BUTTONICONS_DX11.TSH
```

Background texture (maybe need of Windows, no need for macOS)
```bash
~/Library/Application Support/Steam/steamapps/common/LEGO Marvel Super Heroes 2/LEGOMarvelSuperHeroes2Data/GUI/TEXTURES/PC/CONTROLLER_PC_BACKGROUND_DX11.TEX'
```
